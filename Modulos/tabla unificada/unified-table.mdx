---
title: "Tabla Unificada de Riesgos e Incidentes"
sidebar_label: "Tabla Unificada"
sidebar_position: 5
---

import ZoomableDiagram from '@site/src/components/ZoomableDiagram';

# Historia de Usuario: Tabla Unificada de Gesti√≥n de Riesgos e Incidentes

## üìã Informaci√≥n General

- **ID**: US-UNIFIED-TABLE-001
- **M√≥dulo**: Gesti√≥n de Cumplimiento / Visualizaci√≥n de Datos
- **Prioridad**: Alta
- **Sprint**: Sprint 4

## üë§ Historia de Usuario

**Como** Usuario del sistema
**Quiero** visualizar y analizar riesgos e incidentes en una tabla unificada con capacidades avanzadas de filtrado, personalizaci√≥n de columnas y generaci√≥n din√°mica de gr√°ficas
**Para** poder identificar patrones, tendencias y √°reas de atenci√≥n prioritaria, facilitando la toma de decisiones informadas y la comunicaci√≥n efectiva de hallazgos a stakeholders.

## ‚úÖ Criterios de Aceptaci√≥n

### Feature: Visualizaci√≥n Selectiva de Entidades

```gherkin
Scenario: Seleccionar tipo de entidad a visualizar
  Given el usuario est√° en el m√≥dulo de "Tabla Unificada"
  When accede a la vista principal
  Then visualiza un selector de tipo de entidad con las opciones:
    | Tipo       | Icono   | Descripci√≥n            |
    | Riesgos    | shield  | Riesgos identificados  |
    | Incidentes | alert   | Incidentes registrados |
  And puede seleccionar uno o ambos tipos simult√°neamente
  And la tabla se actualiza din√°micamente mostrando solo las entidades seleccionadas
  And el contador total refleja el n√∫mero de registros filtrados
  And muestra contadores individuales por tipo de entidad

Scenario: Visualizar riesgos con contexto de activo/proceso
  Given el usuario ha seleccionado visualizar "Riesgos"
  When la tabla carga los datos
  Then cada fila de riesgo muestra las columnas definidas en el modelo de datos del proyecto
  And incluye obligatoriamente una columna "Activo/Proceso" que muestra el contenedor asociado
  And la columna "Activo/Proceso" indica mediante badge si es "Activo" o "Proceso"
  And al hacer clic en "Activo/Proceso" navega al detalle correspondiente
  And al hacer clic en la fila abre el panel de detalle del riesgo

Scenario: Visualizar incidentes con contexto de activo/proceso
  Given el usuario ha seleccionado visualizar "Incidentes"
  When la tabla carga los datos
  Then cada fila de incidente muestra las columnas definidas en el modelo de datos del proyecto
  And incluye obligatoriamente una columna "Activo/Proceso" que muestra el contenedor afectado
  And la columna "Activo/Proceso" indica mediante badge si es "Activo" o "Proceso"
  And al hacer clic en "Activo/Proceso" navega al detalle correspondiente
  And al hacer clic en la fila abre el panel de detalle del incidente

Scenario: Visualizar vista combinada de riesgos e incidentes
  Given el usuario ha seleccionado visualizar "Riesgos" e "Incidentes"
  When la tabla carga los datos
  Then muestra una columna adicional "Tipo Entidad" con badge distintivo
  And las columnas comunes entre ambas entidades se unifican autom√°ticamente
  And las columnas espec√≠ficas de cada tipo muestran "-" cuando no aplican
  And puede ordenar y filtrar por "Tipo Entidad"
```

### Feature: Sistema de Filtrado Avanzado

```gherkin
Scenario: Aplicar filtros por columna de texto
  Given el usuario est√° visualizando la tabla
  When hace clic en el icono de filtro de una columna de tipo texto
  Then aparece un popover de filtro con:
    | Elemento                | Funcionalidad                           |
    | Campo de b√∫squeda       | B√∫squeda por texto libre                |
    | Operador                | Contiene/Empieza con/Termina con/Igual  |
    | Lista de valores √∫nicos | Checkbox para selecci√≥n m√∫ltiple        |
    | Bot√≥n Limpiar           | Elimina el filtro de esta columna       |
    | Bot√≥n Aplicar           | Aplica el filtro configurado            |
  And al configurar el filtro y hacer clic en "Aplicar"
  Then la tabla muestra solo registros que cumplen la condici√≥n
  And el header de la columna muestra un indicador visual de filtro activo
  And el contador de registros se actualiza

Scenario: Aplicar filtros por columna de selecci√≥n/categor√≠a
  Given el usuario est√° visualizando la tabla
  When hace clic en el filtro de una columna de tipo selecci√≥n (ej: Estado, Severidad, Nivel)
  Then aparece un popover con:
    | Elemento         | Funcionalidad                                |
    | Checkboxes       | Lista de valores √∫nicos con conteo cada uno  |
    | Seleccionar todo | Checkbox para seleccionar/deseleccionar todos|
    | B√∫squeda         | Filtrar opciones en listas largas            |
  And cada opci√≥n muestra el n√∫mero de registros que coinciden
  And al seleccionar una o m√°s opciones y aplicar
  Then la tabla muestra solo registros con los valores seleccionados

Scenario: Aplicar filtros por columna de fecha
  Given el usuario est√° visualizando la tabla
  When hace clic en el filtro de una columna de tipo fecha
  Then aparece un popover con:
    | Elemento            | Funcionalidad                                              |
    | Date picker rango   | Seleccionar fecha inicio y fin                             |
    | Presets r√°pidos     | Hoy/√öltimos 7 d√≠as/√öltimo mes/√öltimo trimestre/Este a√±o    |
  And al seleccionar un rango o preset
  Then la tabla muestra registros dentro del rango de fechas seleccionado

Scenario: Aplicar filtros por columna num√©rica
  Given el usuario est√° visualizando la tabla
  When hace clic en el filtro de una columna de tipo num√©rico
  Then aparece un popover con:
    | Elemento        | Funcionalidad                    |
    | Input m√≠nimo    | Valor m√≠nimo del rango           |
    | Input m√°ximo    | Valor m√°ximo del rango           |
    | Slider doble    | Selector visual de rango         |
  And al configurar el rango deseado
  Then la tabla muestra solo registros con valores dentro del rango

Scenario: Filtrar por Activo o Proceso espec√≠fico
  Given el usuario quiere ver registros de un activo o proceso espec√≠fico
  When hace clic en el filtro de la columna "Activo/Proceso"
  Then aparece un popover con:
    | Elemento                    | Funcionalidad                        |
    | B√∫squeda con autocompletado | Buscar activos/procesos por nombre   |
    | Filtro por tipo             | Checkbox: Activos / Procesos         |
    | Lista de resultados         | Activos y procesos que coinciden     |
  And al seleccionar uno o m√°s activos/procesos
  Then la tabla muestra solo registros asociados a la selecci√≥n

Scenario: Combinar m√∫ltiples filtros
  Given el usuario ha aplicado filtros en varias columnas
  When visualiza la tabla
  Then la tabla muestra solo registros que cumplen TODOS los filtros (l√≥gica AND)
  And aparece una barra de filtros activos sobre la tabla mostrando:
    | Elemento              | Funcionalidad                     |
    | Chips de filtro       | Un chip por cada filtro activo    |
    | Bot√≥n X en cada chip  | Elimina ese filtro individual     |
    | Bot√≥n "Limpiar todo"  | Elimina todos los filtros         |
    | Contador de filtros   | N√∫mero de filtros activos         |

Scenario: B√∫squeda global en la tabla
  Given el usuario est√° visualizando la tabla unificada
  When escribe un t√©rmino en el campo de b√∫squeda global
  Then la tabla filtra mostrando registros donde cualquier columna visible contenga el t√©rmino
  And resalta los t√©rminos encontrados en las celdas
  And la b√∫squeda es case-insensitive
```

### Feature: Personalizaci√≥n de Columnas

```gherkin
Scenario: Mostrar/ocultar columnas de la tabla
  Given el usuario est√° visualizando la tabla unificada
  When hace clic en el bot√≥n "Columnas" (icono de configuraci√≥n de columnas)
  Then aparece un dropdown/panel con:
    | Secci√≥n              | Contenido                                     |
    | Lista de columnas    | Todas las columnas con toggle de visibilidad  |
    | Indicador            | Muestra columnas visibles vs total            |
  And cada columna muestra:
    | Elemento     | Descripci√≥n                                |
    | Toggle/Check | Activar/desactivar visibilidad             |
    | Nombre       | Nombre de la columna                       |
    | Icono tipo   | Indica tipo de dato (texto/n√∫mero/fecha)   |

Scenario: Ocultar columna espec√≠fica
  Given el usuario est√° en el panel de configuraci√≥n de columnas
  And una columna est√° actualmente visible
  When desactiva el toggle de esa columna
  Then la columna se oculta inmediatamente de la tabla
  And el indicador actualiza el conteo de columnas visibles
  And la configuraci√≥n persiste durante la sesi√≥n

Scenario: Reordenar columnas mediante drag and drop en la tabla
  Given el usuario est√° visualizando la tabla
  When arrastra el header de una columna
  And lo suelta en una nueva posici√≥n
  Then la columna se reposiciona en la ubicaci√≥n indicada
  And el orden se mantiene durante la sesi√≥n

Scenario: Restaurar columnas por defecto
  Given el usuario ha modificado la visibilidad y orden de varias columnas
  When hace clic en "Restaurar por defecto" en el panel de columnas
  Then la tabla vuelve a mostrar las columnas predeterminadas
  And el orden vuelve al original
  And muestra confirmaci√≥n: "Columnas restauradas"

Scenario: Redimensionar ancho de columnas
  Given el usuario est√° visualizando la tabla
  When posiciona el cursor en el borde derecho de un header de columna
  And arrastra para aumentar o disminuir el ancho
  Then la columna se redimensiona en tiempo real
  And las dem√°s columnas se ajustan autom√°ticamente
  And el nuevo ancho persiste durante la sesi√≥n
```

### Feature: Asistente de Gr√°ficas Din√°micas

```gherkin
Scenario: Abrir asistente de gr√°ficas
  Given el usuario est√° visualizando datos en la tabla
  And tiene al menos 1 registro en la tabla
  When hace clic en el bot√≥n "Gr√°ficas" (icono de chart)
  Then se abre un modal de tama√±o grande (80% viewport) con:
    | Secci√≥n                  | Ubicaci√≥n        | Descripci√≥n                         |
    | Configuraci√≥n de gr√°fica | Panel izquierdo  | Wizard de configuraci√≥n paso a paso |
    | Vista previa             | Panel derecho    | Gr√°fica renderizada en tiempo real  |
    | Acciones                 | Footer del modal | Cancelar / Exportar imagen / Cerrar |

Scenario: Seleccionar tipo de gr√°fica
  Given el usuario tiene abierto el asistente de gr√°ficas
  When est√° en el paso "Tipo de Gr√°fica"
  Then visualiza una grilla con los tipos disponibles:
    | Tipo   | Icono | Descripci√≥n                      | Mejor Para                               |
    | Pie    | ü•ß    | Gr√°fica circular de proporciones | Distribuci√≥n porcentual de una categor√≠a |
    | Dona   | üç©    | Circular con centro vac√≠o        | Distribuci√≥n con √©nfasis en total        |
    | Barras | üìä    | Barras verticales comparativas   | Comparar cantidades entre categor√≠as     |
    | L√≠neas | üìà    | Tendencia con puntos conectados  | Evoluci√≥n temporal de m√©tricas           |
    | Embudo | üîª    | Etapas secuenciales decrecientes | Procesos con etapas (estados)            |
    | Radar  | üï∏Ô∏è    | Pol√≠gono multidimensional        | Comparar m√∫ltiples m√©tricas              |
    | Radial | üéØ    | Barras circulares desde el centro| Rankings o comparaciones circulares      |
  And cada tipo muestra un preview miniatura
  And al seleccionar un tipo, el panel derecho muestra un ejemplo placeholder

Scenario: Configurar gr√°fica de Pie/Dona - distribuci√≥n simple
  Given el usuario ha seleccionado el tipo "Pie" o "Dona"
  When avanza al paso "Configurar Datos"
  Then el asistente solicita:
    | Campo                    | Tipo     | Descripci√≥n                                 |
    | Columna de Categor√≠as    | Dropdown | Columna para segmentar los datos            |
    | Agregaci√≥n               | Dropdown | Conteo / Suma / Promedio                    |
    | Columna de Valores       | Dropdown | Solo visible si agregaci√≥n es Suma/Promedio |
  And al configurar los campos
  Then la vista previa muestra el gr√°fico con los datos reales
  And muestra leyenda con colores distintivos por categor√≠a
  And al pasar el mouse sobre un segmento muestra tooltip con detalle

Scenario: Configurar gr√°fica de Barras - comparaci√≥n por categor√≠a
  Given el usuario ha seleccionado el tipo "Barras"
  When configura los datos:
    | Campo                 | Descripci√≥n                              |
    | Eje X (Categor√≠as)    | Columna para categor√≠as del eje X        |
    | Eje Y (Valores)       | Tipo de agregaci√≥n para el eje Y         |
    | Agrupar por           | Columna opcional para barras agrupadas   |
  Then la vista previa muestra barras verticales con los datos
  And si selecciona "Agrupar por", muestra barras agrupadas con leyenda

Scenario: Configurar gr√°fica de L√≠neas - tendencia temporal
  Given el usuario ha seleccionado el tipo "L√≠neas"
  When configura los datos:
    | Campo                 | Descripci√≥n                                              |
    | Eje X (Tiempo)        | Columna de fecha para el eje temporal                    |
    | Agrupaci√≥n temporal   | Por d√≠a / Por semana / Por mes / Por trimestre / Por a√±o |
    | Eje Y (Valores)       | Tipo de agregaci√≥n                                       |
    | Series                | Columna opcional para m√∫ltiples l√≠neas                   |
  Then la vista previa muestra l√≠neas de tendencia
  And cada serie tiene color y marcadores distintivos
  And los puntos muestran tooltip con valor exacto al pasar el mouse

Scenario: Configurar gr√°fica de Embudo - estados secuenciales
  Given el usuario ha seleccionado el tipo "Embudo"
  When configura los datos:
    | Campo                 | Descripci√≥n                     |
    | Etapas (Categor√≠a)    | Columna de estados o categor√≠as |
    | Valores               | Tipo de agregaci√≥n              |
  And opcionalmente define el orden de las etapas
  Then la vista previa muestra un embudo con etapas decrecientes
  And muestra tasa de conversi√≥n entre etapas si aplica

Scenario: Configurar gr√°fica de Radar - m√∫ltiples dimensiones
  Given el usuario ha seleccionado el tipo "Radar"
  When configura los datos:
    | Campo                 | Descripci√≥n                               |
    | Dimensiones           | Columnas num√©ricas a comparar             |
    | Valores               | Tipo de agregaci√≥n para cada dimensi√≥n    |
    | Agrupar por           | Columna para comparar m√∫ltiples pol√≠gonos |
  Then la vista previa muestra un pol√≠gono radar con las dimensiones
  And cada grupo tiene un pol√≠gono con color distintivo

Scenario: Configurar gr√°fica Radial - ranking visual
  Given el usuario ha seleccionado el tipo "Radial"
  When configura los datos:
    | Campo                 | Descripci√≥n                        |
    | Categor√≠as            | Columna para las barras radiales   |
    | Valores               | Tipo de agregaci√≥n                 |
    | Ordenar por           | Mayor a menor / Menor a mayor      |
    | L√≠mite                | N√∫mero m√°ximo de elementos (Top N) |
  Then la vista previa muestra barras radiales desde el centro
  And ordena seg√∫n la configuraci√≥n seleccionada
  And respeta el l√≠mite de elementos configurado

Scenario: Personalizar apariencia de la gr√°fica
  Given el usuario ha configurado una gr√°fica
  When avanza al paso "Personalizar"
  Then puede ajustar:
    | Opci√≥n              | Valores disponibles                                     |
    | T√≠tulo de gr√°fica   | Campo de texto libre                                    |
    | Mostrar leyenda     | S√≠/No + posici√≥n (arriba/abajo/derecha/izquierda)       |
    | Mostrar etiquetas   | S√≠/No (valores sobre barras/segmentos)                  |
    | Paleta de colores   | Default/Sem√°ntica/Monocrom√°tica/Personalizada           |
    | Mostrar grid        | S√≠/No                                                   |
  And los cambios se reflejan en tiempo real en la vista previa

Scenario: Exportar gr√°fica como imagen
  Given el usuario ha configurado y personalizado una gr√°fica
  When hace clic en "Exportar"
  Then aparece un men√∫ con opciones:
    | Formato | Descripci√≥n                    |
    | PNG     | Imagen con fondo transparente  |
    | JPG     | Imagen con fondo blanco        |
    | SVG     | Vectorial escalable            |
  And al seleccionar un formato, descarga la imagen
  And el nombre del archivo incluye: tipo_grafica_fecha_hora

Scenario: Los datos de la gr√°fica respetan los filtros de la tabla
  Given el usuario tiene filtros activos en la tabla
  When abre el asistente de gr√°ficas
  Then el asistente indica el n√∫mero de registros filtrados que se usar√°n
  And cualquier gr√°fica generada usa solo los datos filtrados
  And muestra advertencia si hay muy pocos datos para el tipo de gr√°fica seleccionado
```

### Feature: Ordenamiento y Paginaci√≥n

```gherkin
Scenario: Ordenar tabla por columna
  Given el usuario est√° visualizando la tabla
  When hace clic en el header de una columna ordenable
  Then la tabla se ordena por esa columna de forma ascendente
  And el header muestra un indicador de orden (flecha arriba)
  And al hacer clic nuevamente, cambia a orden descendente
  And al hacer clic una tercera vez, elimina el ordenamiento

Scenario: Paginaci√≥n de resultados
  Given hay m√°s registros que el tama√±o de p√°gina configurado
  When el usuario visualiza la tabla
  Then la tabla muestra el n√∫mero de registros seg√∫n tama√±o de p√°gina
  And aparece un control de paginaci√≥n con:
    | Elemento             | Descripci√≥n                          |
    | Selector de p√°gina   | N√∫meros de p√°gina clickeables        |
    | Anterior/Siguiente   | Botones de navegaci√≥n                |
    | Registros por p√°gina | Dropdown: 10/25/50/100               |
    | Info de rango        | "Mostrando X-Y de Z"                 |
  And puede cambiar el n√∫mero de registros por p√°gina
  And la preferencia persiste durante la sesi√≥n

Scenario: Ir a p√°gina espec√≠fica
  Given hay m√∫ltiples p√°ginas de resultados
  When el usuario hace clic en un n√∫mero de p√°gina espec√≠fico
  Then la tabla navega a esa p√°gina
  And el indicador de rango se actualiza
```

### Feature: Acciones sobre Registros

```gherkin
Scenario: Ver detalle de un registro
  Given el usuario est√° visualizando la tabla
  When hace clic en una fila
  Then se abre un panel lateral o modal con el detalle completo del registro
  And puede ver toda la informaci√≥n seg√∫n el tipo de entidad
  And tiene acciones r√°pidas: Editar, Ver historial, Ir al activo/proceso

Scenario: Exportar datos de la tabla
  Given el usuario tiene datos en la tabla (con o sin filtros)
  When hace clic en "Exportar" (icono de descarga)
  Then aparece un men√∫ con opciones:
    | Opci√≥n          | Descripci√≥n                              |
    | Exportar todo   | Todos los registros filtrados            |
    | Exportar p√°gina | Solo la p√°gina actual                    |
  And puede seleccionar formato:
    | Formato | Descripci√≥n                    |
    | CSV     | Valores separados por comas    |
    | Excel   | Archivo .xlsx con formato      |
  And la exportaci√≥n incluye solo las columnas visibles
  And respeta los filtros aplicados
```

## üîÑ Flujo de Usuario

<ZoomableDiagram
  title="Flujo Completo de Tabla Unificada"
  height="900px"
  chart={`graph TD
    subgraph "Acceso y Selecci√≥n"
        Start[Usuario accede a<br/>Tabla Unificada] --> SelectEntity[Seleccionar Tipo<br/>de Entidad]
        SelectEntity --> EntityType{Tipo?}
        EntityType -->|Riesgos| LoadRisks[Cargar Riesgos<br/>con contexto Activo/Proceso]
        EntityType -->|Incidentes| LoadIncidents[Cargar Incidentes<br/>con contexto Activo/Proceso]
        EntityType -->|Ambos| LoadBoth[Cargar Vista<br/>Combinada]
        LoadRisks --> DisplayTable[Mostrar Tabla<br/>con Datos]
        LoadIncidents --> DisplayTable
        LoadBoth --> DisplayTable
    end

    subgraph "Filtrado y Personalizaci√≥n"
        DisplayTable --> UserAction{Acci√≥n del<br/>Usuario}
        UserAction -->|Filtrar| OpenFilter[Abrir Filtro<br/>de Columna]
        OpenFilter --> ConfigFilter[Configurar<br/>Condiciones]
        ConfigFilter --> ApplyFilter[Aplicar Filtro]
        ApplyFilter --> UpdateTable[Actualizar<br/>Tabla]
        UpdateTable --> UserAction

        UserAction -->|Personalizar Columnas| OpenColumns[Abrir Panel<br/>de Columnas]
        OpenColumns --> ToggleColumns[Mostrar/Ocultar<br/>Columnas]
        ToggleColumns --> ReorderColumns[Reordenar<br/>Columnas]
        ReorderColumns --> UpdateTable

        UserAction -->|Buscar| GlobalSearch[B√∫squeda<br/>Global]
        GlobalSearch --> UpdateTable
    end

    subgraph "Asistente de Gr√°ficas"
        UserAction -->|Crear Gr√°fica| OpenChartModal[Abrir Modal<br/>de Gr√°ficas]
        OpenChartModal --> SelectChartType[Seleccionar Tipo<br/>de Gr√°fica]
        SelectChartType --> ChartType{Tipo?}
        ChartType -->|Pie/Dona| ConfigPie[Configurar<br/>Categor√≠a + Agregaci√≥n]
        ChartType -->|Barras| ConfigBars[Configurar<br/>Ejes + Agrupaci√≥n]
        ChartType -->|L√≠neas| ConfigLines[Configurar<br/>Tiempo + Series]
        ChartType -->|Embudo| ConfigFunnel[Configurar<br/>Etapas]
        ChartType -->|Radar| ConfigRadar[Configurar<br/>Dimensiones]
        ChartType -->|Radial| ConfigRadial[Configurar<br/>Ranking]

        ConfigPie --> PreviewChart[Vista Previa<br/>en Tiempo Real]
        ConfigBars --> PreviewChart
        ConfigLines --> PreviewChart
        ConfigFunnel --> PreviewChart
        ConfigRadar --> PreviewChart
        ConfigRadial --> PreviewChart

        PreviewChart --> CustomizeChart[Personalizar<br/>Apariencia]
        CustomizeChart --> ChartAction{Acci√≥n?}
        ChartAction -->|Exportar| ExportImage[Descargar<br/>PNG/JPG/SVG]
        ChartAction -->|Ajustar| SelectChartType
        ChartAction -->|Cerrar| UserAction
    end

    subgraph "Acciones sobre Datos"
        UserAction -->|Ver Detalle| OpenDetail[Abrir Panel<br/>de Detalle]
        OpenDetail --> DetailActions[Editar/Historial/<br/>Navegar a Activo]
        DetailActions --> UserAction

        UserAction -->|Exportar| ExportData[Exportar<br/>CSV/Excel]
        ExportData --> UserAction
    end

    style Start fill:#4caf50,stroke:#333,stroke-width:2px
    style DisplayTable fill:#2196f3,stroke:#333,stroke-width:2px
    style OpenChartModal fill:#9c27b0,stroke:#333,stroke-width:2px
    style PreviewChart fill:#ff9800,stroke:#333,stroke-width:2px
    style ExportImage fill:#4caf50,stroke:#333,stroke-width:2px
  `}
/>

## üé® Mockups / Dise√±os

Dise√±os disponibles en Figma (Pendientes de revisi√≥n por UX/UI Designer: Alan Franco)

### Wireframes Sugeridos:

1. **Vista Principal de Tabla**
   - Header con selector de entidades (tabs o toggle buttons)
   - Barra de b√∫squeda global + botones de acciones (Columnas, Gr√°ficas, Exportar)
   - Barra de filtros activos (chips)
   - Tabla con headers interactivos (ordenamiento, filtros)
   - Footer con paginaci√≥n

2. **Panel de Filtro de Columna**
   - Popover anclado al header de columna
   - Dise√±o adaptado al tipo de dato (texto, n√∫mero, fecha, selecci√≥n)

3. **Modal de Asistente de Gr√°ficas**
   - Layout 40%-60% (configuraci√≥n | vista previa)
   - Wizard con pasos claros
   - Vista previa interactiva con tooltips

## üìù Notas Adicionales

### Equipo

- **Product Owner**: Francisco Puente
- **UX/UI Designer**: Alan Franco
- **Frontend Developers**: Cesar Gonzalez, Juan Martinez
- **Backend Developer**: Josue Cardenas
- **QA Engineer**: Emmanuel Vazquez

### Notas de Implementaci√≥n

:::info Columnas de la Tabla
Las columnas espec√≠ficas que se mostrar√°n para Riesgos e Incidentes depender√°n de los modelos de datos ya definidos en el proyecto. Los escenarios de esta historia describen el comportamiento funcional independiente de las columnas espec√≠ficas.
:::

:::info Colores Sem√°nticos
Para columnas que representen niveles de riesgo, severidad o estados, se utilizar√°n los colores sem√°nticos ya definidos en el sistema de dise√±o del proyecto.
:::

### Alcance

#### ‚úÖ Fase 1 incluye:

**Visualizaci√≥n**
- Selector de tipo de entidad (Riesgos, Incidentes)
- Tabla con columnas seg√∫n modelo de datos del proyecto
- Visualizaci√≥n de Activo/Proceso contenedor con navegaci√≥n
- Vista combinada de m√∫ltiples tipos de entidad
- Indicadores visuales (badges) para estados y niveles

**Filtrado**
- Filtros por columna con operadores apropiados al tipo de dato
- Filtros de texto (contiene, empieza con, igual)
- Filtros de selecci√≥n (checkbox m√∫ltiple)
- Filtros de fecha (rangos, presets r√°pidos)
- Filtros num√©ricos (rangos, slider)
- Combinaci√≥n de m√∫ltiples filtros (l√≥gica AND)
- Barra de filtros activos con eliminaci√≥n individual
- B√∫squeda global en columnas de texto

**Personalizaci√≥n de Columnas**
- Mostrar/ocultar columnas
- Reordenar columnas mediante drag and drop
- Redimensionar ancho de columnas
- Restaurar configuraci√≥n por defecto
- Persistencia durante la sesi√≥n

**Asistente de Gr√°ficas**
- Modal con configuraci√≥n y vista previa
- 7 tipos de gr√°ficas: Pie, Dona, Barras, L√≠neas, Embudo, Radar, Radial
- Configuraci√≥n de columna de categor√≠as
- Configuraci√≥n de agregaci√≥n (conteo, suma, promedio)
- Agrupaci√≥n secundaria para gr√°ficas de barras
- Agrupaci√≥n temporal para gr√°ficas de l√≠neas
- Personalizaci√≥n b√°sica (t√≠tulo, leyenda, etiquetas, colores)
- Exportaci√≥n como imagen (PNG, JPG, SVG)
- Datos respetan filtros activos de la tabla

**Ordenamiento y Paginaci√≥n**
- Ordenamiento por columna (asc/desc)
- Paginaci√≥n con tama√±os configurables
- Indicadores de total de registros

**Acciones**
- Ver detalle de registro
- Exportar a CSV/Excel

---

#### ‚è≥ Fase 2 incluye:

**Entidades Adicionales**
- Soporte para Defectos como tercer tipo de entidad
- Columnas espec√≠ficas para Defectos
- Integraci√≥n con m√≥dulo de calidad



**Gr√°ficas Avanzadas**
- Guardar gr√°ficas como widgets de dashboard
- Gr√°ficas con drill-down interactivo
- Comparativas temporales (periodo anterior)
- Exportaci√≥n de datos de gr√°fica a Excel
- Gr√°ficas combinadas (barras + l√≠neas)
- Animaciones y transiciones avanzadas

**Acciones Avanzadas**
- Selecci√≥n m√∫ltiple de registros
- Acciones en lote (cambiar estado, asignar responsable)
- Programar exportaciones peri√≥dicas
- Alertas basadas en filtros
- Integraci√≥n con notificaciones

**Colaboraci√≥n**
- Compartir vista actual con link
- Comentarios en registros desde la tabla
- Historial de cambios inline

### Roadmap

| Fase   | Funcionalidad Principal                         | Fecha Estimada       | Estado      |
|--------|-------------------------------------------------|----------------------|-------------|
| Fase 1 | Tabla Riesgos/Incidentes + Filtros + Gr√°ficas   | 23/diciembre/2025    | Planificado |
| Fase 2 | Defectos + Vistas Guardadas + Features Avanzados| 30/enero/2026        | Backlog     |

### Dependencias

- M√≥dulo de Gesti√≥n de Riesgos (completado)
- M√≥dulo de Gesti√≥n de Incidentes (completado)
- M√≥dulo de Gesti√≥n de Activos (completado)
- M√≥dulo de Gesti√≥n de Procesos (completado)

### Consideraciones de UX

1. **Rendimiento percibido**: Implementar skeleton loaders durante carga de datos
2. **Feedback inmediato**: Los filtros muestran contador antes de aplicar
3. **Prevenci√≥n de errores**: Validar combinaciones de filtros que retornen 0 resultados
4. **Consistencia**: Usar mismos colores sem√°nticos que el resto del sistema
5. **Accesibilidad**: Soporte completo de teclado para filtros y tabla

### M√©tricas de √âxito

- Tiempo promedio para encontrar un registro espec√≠fico < 30 segundos
- Adopci√≥n del asistente de gr√°ficas > 40% de usuarios activos
- Reducci√≥n de solicitudes de reportes ad-hoc al equipo t√©cnico > 60%
- NPS de la funcionalidad > 8

## üè∑Ô∏è Etiquetas

`compliance` `unified-table` `risks` `incidents` `filtering` `charts` `data-visualization` `dynamic-charts` `export` `sprint-4` `grc`

---

**√öltima actualizaci√≥n**: 04/12/2025